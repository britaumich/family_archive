<div class="w-100" data-controller='autosubmit'>
  <div class="d-md-flex justify-content-between align-items-center text-nowrap pb-4">
    <h1>Upload Files</h1>
  </div>
  <div>
    <%= turbo_frame_tag 'upload_files' do %>
      <div class="mt-2 body-md-text">
        <p> Add some instructions
        </p>
      </div>
      <hr>
      <div class="d-flex flex-column flex-sm-row flex-wrap gap-2">
        <%= form_tag upload_files_path, 
                    method: :post, 
                    data: { turbo: false },
                    multipart: true do %>
          <div>
            <%= label_tag 'file_', 'Choose files to upload:' %>
            <%= file_field_tag 'files[]', accept: ".jpg,.jpeg,.png", multiple: true %>
          </div>
          <div class="mt-3">
            <%= label_tag 'item_type', 'Select Item Type:' %>
            <%= select_tag 'item_type', options_for_select([['Photo', 'photo'], ['Video', 'video'], ['Document', 'document']]), prompt: 'Select Item Type', class: 'form-select' %>
          </div>
          <div class="mt-3">
            <%= label_tag 'item_type', 'Select Tags:' %>
            <% Tag.order(:name).each do |tag| %>
              <div class="form-check">
                <%= check_box_tag "tag_ids[]", tag.id, false, id: "tag_#{tag.id}", class: "form-check-input" %>
                <%= label_tag "tag_#{tag.id}", tag.name, class: "form-check-label" %>
              </div>
            <% end %>
          </div>
          <%= submit_tag 'Upload' %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
